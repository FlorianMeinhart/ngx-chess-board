import { HistoryMoveProvider } from '../history-move-provider/history-move-provider';
import { King } from '../models/pieces/king';
import { Pawn } from '../models/pieces/pawn';
import { Rook } from '../models/pieces/rook';
import { Constants } from '../utils/constants';
import { PieceIconInputManager } from '../utils/inputs/piece-icon-input-manager';
import { CoordsProvider } from './coords/coords-provider';
import { DragEndStrategy } from './drag/end/drag-end-strategy';
import { DragStartStrategy } from './drag/start/drag-start-strategy';
import { ColorStrategy } from './drawing-tools/colors/color-strategy';
import { DrawProvider } from './drawing-tools/draw-provider';
import { DefaultPgnProcessor } from './pgn/default-pgn-processor';
export class AbstractEngineFacade {
    constructor(board) {
        this.dragStartStrategy = new DragStartStrategy();
        this.dragEndStrategy = new DragEndStrategy();
        this.pgnProcessor = new DefaultPgnProcessor();
        this.colorStrategy = new ColorStrategy();
        this.coords = new CoordsProvider();
        this.heightAndWidth = Constants.DEFAULT_SIZE;
        this.freeMode = false;
        this.drawProvider = new DrawProvider();
        this.pieceIconManager = new PieceIconInputManager();
        this.moveHistoryProvider = new HistoryMoveProvider();
        this.disabling = false;
        this.board = board;
    }
    checkIfPawnFirstMove(piece) {
        if (piece instanceof Pawn) {
            piece.isMovedAlready = true;
        }
    }
    checkIfRookMoved(piece) {
        if (piece instanceof Rook) {
            piece.isMovedAlready = true;
        }
    }
    checkIfKingMoved(piece) {
        if (piece instanceof King) {
            piece.isMovedAlready = true;
        }
    }
    getMoveHistory() {
        return this.moveHistoryProvider.getAll();
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWJzdHJhY3QtZW5naW5lLWZhY2FkZS5qcyIsInNvdXJjZVJvb3QiOiJDOi9Vc2Vycy9Lb21wdXRlci9EZXNrdG9wL05vd3kgZm9sZGVyL2NoZXNzLWJvYXJkL3Byb2plY3RzL25neC1jaGVzcy1ib2FyZC9zcmMvIiwic291cmNlcyI6WyJsaWIvZW5naW5lL2Fic3RyYWN0LWVuZ2luZS1mYWNhZGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sZ0RBQWdELENBQUM7QUFFckYsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQzdDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUc3QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDN0MsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDBDQUEwQyxDQUFDO0FBR2pGLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUMxRCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFDL0QsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sa0NBQWtDLENBQUM7QUFDckUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHVDQUF1QyxDQUFDO0FBQ3RFLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUM3RCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUdsRSxNQUFNLE9BQWdCLG9CQUFvQjtJQXdCdEMsWUFBc0IsS0FBWTtRQXRCM0Isc0JBQWlCLEdBQXNCLElBQUksaUJBQWlCLEVBQUUsQ0FBQztRQUMvRCxvQkFBZSxHQUFvQixJQUFJLGVBQWUsRUFBRSxDQUFDO1FBQ3pELGlCQUFZLEdBQXlCLElBQUksbUJBQW1CLEVBQUUsQ0FBQztRQUM1RCxrQkFBYSxHQUFrQixJQUFJLGFBQWEsRUFBRSxDQUFDO1FBRXRELFdBQU0sR0FBbUIsSUFBSSxjQUFjLEVBQUUsQ0FBQztRQUM5QyxtQkFBYyxHQUFXLFNBQVMsQ0FBQyxZQUFZLENBQUM7UUFFaEQsYUFBUSxHQUFHLEtBQUssQ0FBQztRQVFqQixpQkFBWSxHQUFpQixJQUFJLFlBQVksRUFBRSxDQUFDO1FBQ2hELHFCQUFnQixHQUEwQixJQUFJLHFCQUFxQixFQUFFLENBQUM7UUFDdEUsd0JBQW1CLEdBQXdCLElBQUksbUJBQW1CLEVBQUUsQ0FBQztRQUVyRSxjQUFTLEdBQUcsS0FBSyxDQUFDO1FBR3JCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3ZCLENBQUM7SUE0Qk0sb0JBQW9CLENBQUMsS0FBWTtRQUNwQyxJQUFJLEtBQUssWUFBWSxJQUFJLEVBQUU7WUFDdkIsS0FBSyxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7U0FDL0I7SUFDTCxDQUFDO0lBRU0sZ0JBQWdCLENBQUMsS0FBWTtRQUNoQyxJQUFJLEtBQUssWUFBWSxJQUFJLEVBQUU7WUFDdkIsS0FBSyxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7U0FDL0I7SUFDTCxDQUFDO0lBRU0sZ0JBQWdCLENBQUMsS0FBWTtRQUNoQyxJQUFJLEtBQUssWUFBWSxJQUFJLEVBQUU7WUFDdkIsS0FBSyxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7U0FDL0I7SUFDTCxDQUFDO0lBRU0sY0FBYztRQUNqQixPQUFPLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUM3QyxDQUFDO0NBRUoiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQaWVjZVByb21vdGlvbk1vZGFsQ29tcG9uZW50IH0gZnJvbSAnLi4vcGllY2UtcHJvbW90aW9uL3BpZWNlLXByb21vdGlvbi1tb2RhbC9waWVjZS1wcm9tb3Rpb24tbW9kYWwuY29tcG9uZW50JztcclxuaW1wb3J0IHsgSGlzdG9yeU1vdmUgfSBmcm9tICcuLi9oaXN0b3J5LW1vdmUtcHJvdmlkZXIvaGlzdG9yeS1tb3ZlJztcclxuaW1wb3J0IHsgSGlzdG9yeU1vdmVQcm92aWRlciB9IGZyb20gJy4uL2hpc3RvcnktbW92ZS1wcm92aWRlci9oaXN0b3J5LW1vdmUtcHJvdmlkZXInO1xyXG5pbXBvcnQgeyBCb2FyZCB9IGZyb20gJy4uL21vZGVscy9ib2FyZCc7XHJcbmltcG9ydCB7IEtpbmcgfSBmcm9tICcuLi9tb2RlbHMvcGllY2VzL2tpbmcnO1xyXG5pbXBvcnQgeyBQYXduIH0gZnJvbSAnLi4vbW9kZWxzL3BpZWNlcy9wYXduJztcclxuaW1wb3J0IHsgUGllY2UgfSBmcm9tICcuLi9tb2RlbHMvcGllY2VzL3BpZWNlJztcclxuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi9tb2RlbHMvcGllY2VzL3BvaW50JztcclxuaW1wb3J0IHsgUm9vayB9IGZyb20gJy4uL21vZGVscy9waWVjZXMvcm9vayc7XHJcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XHJcbmltcG9ydCB7IFBpZWNlSWNvbklucHV0TWFuYWdlciB9IGZyb20gJy4uL3V0aWxzL2lucHV0cy9waWVjZS1pY29uLWlucHV0LW1hbmFnZXInO1xyXG5pbXBvcnQgeyBDb2xvcklucHV0LCBQaWVjZVR5cGVJbnB1dCB9IGZyb20gJy4uL3V0aWxzL2lucHV0cy9waWVjZS10eXBlLWlucHV0JztcclxuaW1wb3J0IHsgQm9hcmRMb2FkZXIgfSBmcm9tICcuL2JvYXJkLXN0YXRlLXByb3ZpZGVyL2JvYXJkLWxvYWRlci9ib2FyZC1sb2FkZXInO1xyXG5pbXBvcnQgeyBDb29yZHNQcm92aWRlciB9IGZyb20gJy4vY29vcmRzL2Nvb3Jkcy1wcm92aWRlcic7XHJcbmltcG9ydCB7IERyYWdFbmRTdHJhdGVneSB9IGZyb20gJy4vZHJhZy9lbmQvZHJhZy1lbmQtc3RyYXRlZ3knO1xyXG5pbXBvcnQgeyBEcmFnU3RhcnRTdHJhdGVneSB9IGZyb20gJy4vZHJhZy9zdGFydC9kcmFnLXN0YXJ0LXN0cmF0ZWd5JztcclxuaW1wb3J0IHsgQ29sb3JTdHJhdGVneSB9IGZyb20gJy4vZHJhd2luZy10b29scy9jb2xvcnMvY29sb3Itc3RyYXRlZ3knO1xyXG5pbXBvcnQgeyBEcmF3UHJvdmlkZXIgfSBmcm9tICcuL2RyYXdpbmctdG9vbHMvZHJhdy1wcm92aWRlcic7XHJcbmltcG9ydCB7IERlZmF1bHRQZ25Qcm9jZXNzb3IgfSBmcm9tICcuL3Bnbi9kZWZhdWx0LXBnbi1wcm9jZXNzb3InO1xyXG5pbXBvcnQgeyBBYnN0cmFjdFBnblByb2Nlc3NvciB9IGZyb20gJy4vcGduL2Fic3RyYWN0LXBnbi1wcm9jZXNzb3InO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFic3RyYWN0RW5naW5lRmFjYWRlIHtcclxuXHJcbiAgICBwdWJsaWMgZHJhZ1N0YXJ0U3RyYXRlZ3k6IERyYWdTdGFydFN0cmF0ZWd5ID0gbmV3IERyYWdTdGFydFN0cmF0ZWd5KCk7XHJcbiAgICBwdWJsaWMgZHJhZ0VuZFN0cmF0ZWd5OiBEcmFnRW5kU3RyYXRlZ3kgPSBuZXcgRHJhZ0VuZFN0cmF0ZWd5KCk7XHJcbiAgICBwdWJsaWMgcGduUHJvY2Vzc29yOiBBYnN0cmFjdFBnblByb2Nlc3NvciA9IG5ldyBEZWZhdWx0UGduUHJvY2Vzc29yKCk7XHJcbiAgICBwcm90ZWN0ZWQgY29sb3JTdHJhdGVneTogQ29sb3JTdHJhdGVneSA9IG5ldyBDb2xvclN0cmF0ZWd5KCk7XHJcblxyXG4gICAgcHVibGljIGNvb3JkczogQ29vcmRzUHJvdmlkZXIgPSBuZXcgQ29vcmRzUHJvdmlkZXIoKTtcclxuICAgIHB1YmxpYyBoZWlnaHRBbmRXaWR0aDogbnVtYmVyID0gQ29uc3RhbnRzLkRFRkFVTFRfU0laRTtcclxuXHJcbiAgICBwdWJsaWMgZnJlZU1vZGUgPSBmYWxzZTtcclxuICAgIHB1YmxpYyBkcmFnRGlzYWJsZWQ6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgZHJhd0Rpc2FibGVkOiBib29sZWFuO1xyXG4gICAgcHVibGljIGxpZ2h0RGlzYWJsZWQ6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgZGFya0Rpc2FibGVkOiBib29sZWFuO1xyXG4gICAgcHVibGljIGJvYXJkOiBCb2FyZDtcclxuICAgIHB1YmxpYyBtb2RhbDogUGllY2VQcm9tb3Rpb25Nb2RhbENvbXBvbmVudDtcclxuICAgIHB1YmxpYyBib2FyZExvYWRlcjogQm9hcmRMb2FkZXI7XHJcbiAgICBwdWJsaWMgZHJhd1Byb3ZpZGVyOiBEcmF3UHJvdmlkZXIgPSBuZXcgRHJhd1Byb3ZpZGVyKCk7XHJcbiAgICBwdWJsaWMgcGllY2VJY29uTWFuYWdlcjogUGllY2VJY29uSW5wdXRNYW5hZ2VyID0gbmV3IFBpZWNlSWNvbklucHV0TWFuYWdlcigpO1xyXG4gICAgcHVibGljIG1vdmVIaXN0b3J5UHJvdmlkZXI6IEhpc3RvcnlNb3ZlUHJvdmlkZXIgPSBuZXcgSGlzdG9yeU1vdmVQcm92aWRlcigpO1xyXG4gICAgcHVibGljIG1vdmVEb25lOiBib29sZWFuO1xyXG4gICAgcHVibGljIGRpc2FibGluZyA9IGZhbHNlO1xyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcihib2FyZDogQm9hcmQpIHtcclxuICAgICAgICB0aGlzLmJvYXJkID0gYm9hcmQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IHJlc2V0KCk6IHZvaWQ7XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IHVuZG8oKTogdm9pZDtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgbW92ZShjb29yZHM6IHN0cmluZyk6IHZvaWQ7XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGFkZFBpZWNlKFxyXG4gICAgICAgIHBpZWNlVHlwZUlucHV0OiBQaWVjZVR5cGVJbnB1dCxcclxuICAgICAgICBjb2xvcklucHV0OiBDb2xvcklucHV0LFxyXG4gICAgICAgIGNvb3Jkczogc3RyaW5nXHJcbiAgICApOiB2b2lkO1xyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBvbk1vdXNlVXAoXHJcbiAgICAgICAgZXZlbnQ6IE1vdXNlRXZlbnQsXHJcbiAgICAgICAgcG9pbnRDbGlja2VkOiBQb2ludCxcclxuICAgICAgICBsZWZ0OiBudW1iZXIsXHJcbiAgICAgICAgdG9wOiBudW1iZXJcclxuICAgICk6IHZvaWQ7XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IG9uTW91c2VEb3duKFxyXG4gICAgICAgIGV2ZW50OiBNb3VzZUV2ZW50LFxyXG4gICAgICAgIHBvaW50Q2xpY2tlZDogUG9pbnQsXHJcbiAgICAgICAgbGVmdD86IG51bWJlcixcclxuICAgICAgICB0b3A/OiBudW1iZXJcclxuICAgICk6IHZvaWQ7XHJcblxyXG4gICAgcHVibGljIGNoZWNrSWZQYXduRmlyc3RNb3ZlKHBpZWNlOiBQaWVjZSkge1xyXG4gICAgICAgIGlmIChwaWVjZSBpbnN0YW5jZW9mIFBhd24pIHtcclxuICAgICAgICAgICAgcGllY2UuaXNNb3ZlZEFscmVhZHkgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2hlY2tJZlJvb2tNb3ZlZChwaWVjZTogUGllY2UpIHtcclxuICAgICAgICBpZiAocGllY2UgaW5zdGFuY2VvZiBSb29rKSB7XHJcbiAgICAgICAgICAgIHBpZWNlLmlzTW92ZWRBbHJlYWR5ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNoZWNrSWZLaW5nTW92ZWQocGllY2U6IFBpZWNlKSB7XHJcbiAgICAgICAgaWYgKHBpZWNlIGluc3RhbmNlb2YgS2luZykge1xyXG4gICAgICAgICAgICBwaWVjZS5pc01vdmVkQWxyZWFkeSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRNb3ZlSGlzdG9yeSgpOiBIaXN0b3J5TW92ZVtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tb3ZlSGlzdG9yeVByb3ZpZGVyLmdldEFsbCgpO1xyXG4gICAgfVxyXG5cclxufVxyXG4iXX0=