import { HistoryMoveProvider } from '../history-move-provider/history-move-provider';
import { King } from '../models/pieces/king';
import { Pawn } from '../models/pieces/pawn';
import { Rook } from '../models/pieces/rook';
import { Constants } from '../utils/constants';
import { PieceIconInputManager } from '../utils/inputs/piece-icon-input-manager';
import { CoordsProvider } from './coords/coords-provider';
import { DragEndStrategy } from './drag/end/drag-end-strategy';
import { DragStartStrategy } from './drag/start/drag-start-strategy';
import { ColorStrategy } from './drawing-tools/colors/color-strategy';
import { DrawProvider } from './drawing-tools/draw-provider';
export class AbstractEngineFacade {
    constructor(board) {
        this.dragStartStrategy = new DragStartStrategy();
        this.dragEndStrategy = new DragEndStrategy();
        this.colorStrategy = new ColorStrategy();
        this.coords = new CoordsProvider();
        this.heightAndWidth = Constants.DEFAULT_SIZE;
        this.freeMode = false;
        this.drawProvider = new DrawProvider();
        this.pieceIconManager = new PieceIconInputManager();
        this.moveHistoryProvider = new HistoryMoveProvider();
        this.board = board;
    }
    checkIfPawnFirstMove(piece) {
        if (piece instanceof Pawn) {
            piece.isMovedAlready = true;
        }
    }
    checkIfRookMoved(piece) {
        if (piece instanceof Rook) {
            piece.isMovedAlready = true;
        }
    }
    checkIfKingMoved(piece) {
        if (piece instanceof King) {
            piece.isMovedAlready = true;
        }
    }
    getMoveHistory() {
        return this.moveHistoryProvider.getAll();
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWJzdHJhY3QtZW5naW5lLWZhY2FkZS5qcyIsInNvdXJjZVJvb3QiOiJDOi9Vc2Vycy9Lb21wdXRlci9EZXNrdG9wL05vd3kgZm9sZGVyL2NoZXNzLWJvYXJkL3Byb2plY3RzL25neC1jaGVzcy1ib2FyZC9zcmMvIiwic291cmNlcyI6WyJsaWIvZW5naW5lL2Fic3RyYWN0LWVuZ2luZS1mYWNhZGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sZ0RBQWdELENBQUM7QUFFckYsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQzdDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUc3QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDN0MsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDBDQUEwQyxDQUFDO0FBR2pGLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUMxRCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFDL0QsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sa0NBQWtDLENBQUM7QUFDckUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHVDQUF1QyxDQUFDO0FBQ3RFLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUU3RCxNQUFNLE9BQWdCLG9CQUFvQjtJQXFCdEMsWUFBc0IsS0FBWTtRQW5CM0Isc0JBQWlCLEdBQXNCLElBQUksaUJBQWlCLEVBQUUsQ0FBQztRQUMvRCxvQkFBZSxHQUFvQixJQUFJLGVBQWUsRUFBRSxDQUFDO1FBQ3RELGtCQUFhLEdBQWtCLElBQUksYUFBYSxFQUFFLENBQUM7UUFFdEQsV0FBTSxHQUFtQixJQUFJLGNBQWMsRUFBRSxDQUFDO1FBQzlDLG1CQUFjLEdBQVcsU0FBUyxDQUFDLFlBQVksQ0FBQztRQUVoRCxhQUFRLEdBQUcsS0FBSyxDQUFDO1FBUWpCLGlCQUFZLEdBQWlCLElBQUksWUFBWSxFQUFFLENBQUM7UUFDaEQscUJBQWdCLEdBQTBCLElBQUkscUJBQXFCLEVBQUUsQ0FBQztRQUN0RSx3QkFBbUIsR0FBd0IsSUFBSSxtQkFBbUIsRUFBRSxDQUFDO1FBR3hFLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3ZCLENBQUM7SUE0Qk0sb0JBQW9CLENBQUMsS0FBWTtRQUNwQyxJQUFJLEtBQUssWUFBWSxJQUFJLEVBQUU7WUFDdkIsS0FBSyxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7U0FDL0I7SUFDTCxDQUFDO0lBRU0sZ0JBQWdCLENBQUMsS0FBWTtRQUNoQyxJQUFJLEtBQUssWUFBWSxJQUFJLEVBQUU7WUFDdkIsS0FBSyxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7U0FDL0I7SUFDTCxDQUFDO0lBRU0sZ0JBQWdCLENBQUMsS0FBWTtRQUNoQyxJQUFJLEtBQUssWUFBWSxJQUFJLEVBQUU7WUFDdkIsS0FBSyxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7U0FDL0I7SUFDTCxDQUFDO0lBRU0sY0FBYztRQUNqQixPQUFPLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUM3QyxDQUFDO0NBRUoiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQaWVjZVByb21vdGlvbk1vZGFsQ29tcG9uZW50IH0gZnJvbSAnLi4vcGllY2UtcHJvbW90aW9uL3BpZWNlLXByb21vdGlvbi1tb2RhbC9waWVjZS1wcm9tb3Rpb24tbW9kYWwuY29tcG9uZW50JztcclxuaW1wb3J0IHsgSGlzdG9yeU1vdmUgfSBmcm9tICcuLi9oaXN0b3J5LW1vdmUtcHJvdmlkZXIvaGlzdG9yeS1tb3ZlJztcclxuaW1wb3J0IHsgSGlzdG9yeU1vdmVQcm92aWRlciB9IGZyb20gJy4uL2hpc3RvcnktbW92ZS1wcm92aWRlci9oaXN0b3J5LW1vdmUtcHJvdmlkZXInO1xyXG5pbXBvcnQgeyBCb2FyZCB9IGZyb20gJy4uL21vZGVscy9ib2FyZCc7XHJcbmltcG9ydCB7IEtpbmcgfSBmcm9tICcuLi9tb2RlbHMvcGllY2VzL2tpbmcnO1xyXG5pbXBvcnQgeyBQYXduIH0gZnJvbSAnLi4vbW9kZWxzL3BpZWNlcy9wYXduJztcclxuaW1wb3J0IHsgUGllY2UgfSBmcm9tICcuLi9tb2RlbHMvcGllY2VzL3BpZWNlJztcclxuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi9tb2RlbHMvcGllY2VzL3BvaW50JztcclxuaW1wb3J0IHsgUm9vayB9IGZyb20gJy4uL21vZGVscy9waWVjZXMvcm9vayc7XHJcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XHJcbmltcG9ydCB7IFBpZWNlSWNvbklucHV0TWFuYWdlciB9IGZyb20gJy4uL3V0aWxzL2lucHV0cy9waWVjZS1pY29uLWlucHV0LW1hbmFnZXInO1xyXG5pbXBvcnQgeyBDb2xvcklucHV0LCBQaWVjZVR5cGVJbnB1dCB9IGZyb20gJy4uL3V0aWxzL2lucHV0cy9waWVjZS10eXBlLWlucHV0JztcclxuaW1wb3J0IHsgQm9hcmRMb2FkZXIgfSBmcm9tICcuL2JvYXJkLXN0YXRlLXByb3ZpZGVyL2JvYXJkLWxvYWRlci9ib2FyZC1sb2FkZXInO1xyXG5pbXBvcnQgeyBDb29yZHNQcm92aWRlciB9IGZyb20gJy4vY29vcmRzL2Nvb3Jkcy1wcm92aWRlcic7XHJcbmltcG9ydCB7IERyYWdFbmRTdHJhdGVneSB9IGZyb20gJy4vZHJhZy9lbmQvZHJhZy1lbmQtc3RyYXRlZ3knO1xyXG5pbXBvcnQgeyBEcmFnU3RhcnRTdHJhdGVneSB9IGZyb20gJy4vZHJhZy9zdGFydC9kcmFnLXN0YXJ0LXN0cmF0ZWd5JztcclxuaW1wb3J0IHsgQ29sb3JTdHJhdGVneSB9IGZyb20gJy4vZHJhd2luZy10b29scy9jb2xvcnMvY29sb3Itc3RyYXRlZ3knO1xyXG5pbXBvcnQgeyBEcmF3UHJvdmlkZXIgfSBmcm9tICcuL2RyYXdpbmctdG9vbHMvZHJhdy1wcm92aWRlcic7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RFbmdpbmVGYWNhZGUge1xyXG5cclxuICAgIHB1YmxpYyBkcmFnU3RhcnRTdHJhdGVneTogRHJhZ1N0YXJ0U3RyYXRlZ3kgPSBuZXcgRHJhZ1N0YXJ0U3RyYXRlZ3koKTtcclxuICAgIHB1YmxpYyBkcmFnRW5kU3RyYXRlZ3k6IERyYWdFbmRTdHJhdGVneSA9IG5ldyBEcmFnRW5kU3RyYXRlZ3koKTtcclxuICAgIHByb3RlY3RlZCBjb2xvclN0cmF0ZWd5OiBDb2xvclN0cmF0ZWd5ID0gbmV3IENvbG9yU3RyYXRlZ3koKTtcclxuXHJcbiAgICBwdWJsaWMgY29vcmRzOiBDb29yZHNQcm92aWRlciA9IG5ldyBDb29yZHNQcm92aWRlcigpO1xyXG4gICAgcHVibGljIGhlaWdodEFuZFdpZHRoOiBudW1iZXIgPSBDb25zdGFudHMuREVGQVVMVF9TSVpFO1xyXG5cclxuICAgIHB1YmxpYyBmcmVlTW9kZSA9IGZhbHNlO1xyXG4gICAgcHVibGljIGRyYWdEaXNhYmxlZDogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBkcmF3RGlzYWJsZWQ6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgbGlnaHREaXNhYmxlZDogYm9vbGVhbjtcclxuICAgIHB1YmxpYyBkYXJrRGlzYWJsZWQ6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgYm9hcmQ6IEJvYXJkO1xyXG4gICAgcHVibGljIG1vZGFsOiBQaWVjZVByb21vdGlvbk1vZGFsQ29tcG9uZW50O1xyXG4gICAgcHVibGljIGJvYXJkTG9hZGVyOiBCb2FyZExvYWRlcjtcclxuICAgIHB1YmxpYyBkcmF3UHJvdmlkZXI6IERyYXdQcm92aWRlciA9IG5ldyBEcmF3UHJvdmlkZXIoKTtcclxuICAgIHB1YmxpYyBwaWVjZUljb25NYW5hZ2VyOiBQaWVjZUljb25JbnB1dE1hbmFnZXIgPSBuZXcgUGllY2VJY29uSW5wdXRNYW5hZ2VyKCk7XHJcbiAgICBwdWJsaWMgbW92ZUhpc3RvcnlQcm92aWRlcjogSGlzdG9yeU1vdmVQcm92aWRlciA9IG5ldyBIaXN0b3J5TW92ZVByb3ZpZGVyKCk7XHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKGJvYXJkOiBCb2FyZCkge1xyXG4gICAgICAgIHRoaXMuYm9hcmQgPSBib2FyZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVzZXQoKTogdm9pZDtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgdW5kbygpOiB2b2lkO1xyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBtb3ZlKGNvb3Jkczogc3RyaW5nKTogdm9pZDtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgYWRkUGllY2UoXHJcbiAgICAgICAgcGllY2VUeXBlSW5wdXQ6IFBpZWNlVHlwZUlucHV0LFxyXG4gICAgICAgIGNvbG9ySW5wdXQ6IENvbG9ySW5wdXQsXHJcbiAgICAgICAgY29vcmRzOiBzdHJpbmdcclxuICAgICk6IHZvaWQ7XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IG9uTW91c2VVcChcclxuICAgICAgICBldmVudDogTW91c2VFdmVudCxcclxuICAgICAgICBwb2ludENsaWNrZWQ6IFBvaW50LFxyXG4gICAgICAgIGxlZnQ6IG51bWJlcixcclxuICAgICAgICB0b3A6IG51bWJlclxyXG4gICAgKTogdm9pZDtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3Qgb25Nb3VzZURvd24oXHJcbiAgICAgICAgZXZlbnQ6IE1vdXNlRXZlbnQsXHJcbiAgICAgICAgcG9pbnRDbGlja2VkOiBQb2ludCxcclxuICAgICAgICBsZWZ0PzogbnVtYmVyLFxyXG4gICAgICAgIHRvcD86IG51bWJlclxyXG4gICAgKTogdm9pZDtcclxuXHJcbiAgICBwdWJsaWMgY2hlY2tJZlBhd25GaXJzdE1vdmUocGllY2U6IFBpZWNlKSB7XHJcbiAgICAgICAgaWYgKHBpZWNlIGluc3RhbmNlb2YgUGF3bikge1xyXG4gICAgICAgICAgICBwaWVjZS5pc01vdmVkQWxyZWFkeSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjaGVja0lmUm9va01vdmVkKHBpZWNlOiBQaWVjZSkge1xyXG4gICAgICAgIGlmIChwaWVjZSBpbnN0YW5jZW9mIFJvb2spIHtcclxuICAgICAgICAgICAgcGllY2UuaXNNb3ZlZEFscmVhZHkgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2hlY2tJZktpbmdNb3ZlZChwaWVjZTogUGllY2UpIHtcclxuICAgICAgICBpZiAocGllY2UgaW5zdGFuY2VvZiBLaW5nKSB7XHJcbiAgICAgICAgICAgIHBpZWNlLmlzTW92ZWRBbHJlYWR5ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldE1vdmVIaXN0b3J5KCk6IEhpc3RvcnlNb3ZlW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1vdmVIaXN0b3J5UHJvdmlkZXIuZ2V0QWxsKCk7XHJcbiAgICB9XHJcblxyXG59XHJcbiJdfQ==