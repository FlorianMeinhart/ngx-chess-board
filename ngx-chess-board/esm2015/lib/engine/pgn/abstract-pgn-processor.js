export class AbstractPgnProcessor {
    constructor() {
        this.pgn = '';
        this.currentIndex = 0.5;
    }
    getPGN() {
        return this.pgn;
    }
    processChecks(checkmate, check, stalemate) {
        if (checkmate) {
            this.pgn += '#';
        }
        else {
            if (check) {
                this.pgn += '+';
            }
        }
    }
    reset() {
        this.pgn = '';
        this.currentIndex = 0.5;
    }
    addPromotionChoice(promotion) {
        switch (promotion) {
            case 1:
                this.pgn += '=Q';
                break;
            case 2:
                this.pgn += '=R';
                break;
            case 3:
                this.pgn += '=B';
                break;
            case 4:
                this.pgn += '=N';
                break;
        }
    }
    removeLast() {
        if (this.currentIndex >= 0.5) {
            this.currentIndex -= 0.5;
            const regex1 = new RegExp(/\d+\./g);
            regex1.test(this.pgn);
            this.pgn = this.pgn.substring(0, regex1.lastIndex).trim();
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWJzdHJhY3QtcGduLXByb2Nlc3Nvci5qcyIsInNvdXJjZVJvb3QiOiJDOi9Vc2Vycy9Lb21wdXRlci9EZXNrdG9wL05vd3kgZm9sZGVyL2NoZXNzLWJvYXJkL3Byb2plY3RzL25neC1jaGVzcy1ib2FyZC9zcmMvIiwic291cmNlcyI6WyJsaWIvZW5naW5lL3Bnbi9hYnN0cmFjdC1wZ24tcHJvY2Vzc29yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUlBLE1BQU0sT0FBZ0Isb0JBQW9CO0lBQTFDO1FBRWMsUUFBRyxHQUFHLEVBQUUsQ0FBQztRQUNULGlCQUFZLEdBQUcsR0FBRyxDQUFDO0lBc0RqQyxDQUFDO0lBN0NVLE1BQU07UUFDVCxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUM7SUFDcEIsQ0FBQztJQUVELGFBQWEsQ0FBQyxTQUFrQixFQUFFLEtBQWMsRUFBRSxTQUFrQjtRQUNoRSxJQUFJLFNBQVMsRUFBRTtZQUNYLElBQUksQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDO1NBQ25CO2FBQU07WUFDSCxJQUFJLEtBQUssRUFBRTtnQkFDUCxJQUFJLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQzthQUNuQjtTQUNKO0lBQ0wsQ0FBQztJQUVELEtBQUs7UUFDRCxJQUFJLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQztRQUNkLElBQUksQ0FBQyxZQUFZLEdBQUcsR0FBRyxDQUFDO0lBQzVCLENBQUM7SUFFRCxrQkFBa0IsQ0FBQyxTQUFTO1FBQ3hCLFFBQVEsU0FBUyxFQUFFO1lBQ2YsS0FBSyxDQUFDO2dCQUNGLElBQUksQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDO2dCQUNqQixNQUFNO1lBQ1YsS0FBSyxDQUFDO2dCQUNGLElBQUksQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDO2dCQUNqQixNQUFNO1lBQ1YsS0FBSyxDQUFDO2dCQUNGLElBQUksQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDO2dCQUNqQixNQUFNO1lBQ1YsS0FBSyxDQUFDO2dCQUNGLElBQUksQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDO2dCQUNqQixNQUFNO1NBQ2I7SUFDTCxDQUFDO0lBRUQsVUFBVTtRQUNOLElBQUcsSUFBSSxDQUFDLFlBQVksSUFBSSxHQUFHLEVBQUU7WUFDekIsSUFBSSxDQUFDLFlBQVksSUFBSSxHQUFHLENBQUM7WUFDekIsTUFBTSxNQUFNLEdBQUcsSUFBSSxNQUFNLENBQUUsUUFBUSxDQUFFLENBQUM7WUFDdEMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDdEIsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO1NBQzdEO0lBQ0wsQ0FBQztDQUVKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQm9hcmQgfSBmcm9tICcuLi8uLi9tb2RlbHMvYm9hcmQnO1xuaW1wb3J0IHsgUGllY2UgfSBmcm9tICcuLi8uLi9tb2RlbHMvcGllY2VzL3BpZWNlJztcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi4vLi4vbW9kZWxzL3BpZWNlcy9wb2ludCc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdFBnblByb2Nlc3NvciB7XG5cbiAgICBwcm90ZWN0ZWQgcGduID0gJyc7XG4gICAgcHJvdGVjdGVkIGN1cnJlbnRJbmRleCA9IDAuNTtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCBwcm9jZXNzKFxuICAgICAgICBib2FyZDogQm9hcmQsXG4gICAgICAgIHNvdXJjZVBpZWNlOiBQaWVjZSxcbiAgICAgICAgZGVzdFBvaW50OiBQb2ludCxcbiAgICAgICAgZGVzdFBpZWNlPzogUGllY2VcbiAgICApOiB2b2lkO1xuXG4gICAgcHVibGljIGdldFBHTigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGduO1xuICAgIH1cblxuICAgIHByb2Nlc3NDaGVja3MoY2hlY2ttYXRlOiBib29sZWFuLCBjaGVjazogYm9vbGVhbiwgc3RhbGVtYXRlOiBib29sZWFuKSB7XG4gICAgICAgIGlmIChjaGVja21hdGUpIHtcbiAgICAgICAgICAgIHRoaXMucGduICs9ICcjJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjaGVjaykge1xuICAgICAgICAgICAgICAgIHRoaXMucGduICs9ICcrJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnBnbiA9ICcnO1xuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IDAuNTtcbiAgICB9XG5cbiAgICBhZGRQcm9tb3Rpb25DaG9pY2UocHJvbW90aW9uKSB7XG4gICAgICAgIHN3aXRjaCAocHJvbW90aW9uKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgdGhpcy5wZ24gKz0gJz1RJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB0aGlzLnBnbiArPSAnPVInO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHRoaXMucGduICs9ICc9Qic7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgdGhpcy5wZ24gKz0gJz1OJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZUxhc3QoKSB7XG4gICAgICAgIGlmKHRoaXMuY3VycmVudEluZGV4ID49IDAuNSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggLT0gMC41O1xuICAgICAgICAgICAgY29uc3QgcmVnZXgxID0gbmV3IFJlZ0V4cCggL1xcZCtcXC4vZyApO1xuICAgICAgICAgICAgcmVnZXgxLnRlc3QodGhpcy5wZ24pO1xuICAgICAgICAgICAgdGhpcy5wZ24gPSB0aGlzLnBnbi5zdWJzdHJpbmcoMCwgcmVnZXgxLmxhc3RJbmRleCkudHJpbSgpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG4iXX0=