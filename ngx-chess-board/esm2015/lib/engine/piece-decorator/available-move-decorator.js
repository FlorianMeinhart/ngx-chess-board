import { MoveUtils } from '../../utils/move-utils';
import { PieceAbstractDecorator } from './piece-abstract-decorator';
export class AvailableMoveDecorator extends PieceAbstractDecorator {
    constructor(piece, pointClicked, color, board) {
        super(piece);
        this.pointClicked = pointClicked;
        this.color = color;
        this.board = board;
    }
    getPossibleCaptures() {
        return this.piece
            .getPossibleCaptures()
            .filter((point) => !MoveUtils.willMoveCauseCheck(this.color, this.pointClicked.row, this.pointClicked.col, point.row, point.col, this.board));
    }
    getPossibleMoves() {
        return this.piece
            .getPossibleMoves()
            .filter((point) => !MoveUtils.willMoveCauseCheck(this.color, this.pointClicked.row, this.pointClicked.col, point.row, point.col, this.board));
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXZhaWxhYmxlLW1vdmUtZGVjb3JhdG9yLmpzIiwic291cmNlUm9vdCI6IkM6L1VzZXJzL0tvbXB1dGVyL0Rlc2t0b3AvTm93eSBmb2xkZXIvY2hlc3MtYm9hcmQvcHJvamVjdHMvbmd4LWNoZXNzLWJvYXJkL3NyYy8iLCJzb3VyY2VzIjpbImxpYi9lbmdpbmUvcGllY2UtZGVjb3JhdG9yL2F2YWlsYWJsZS1tb3ZlLWRlY29yYXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFFbkQsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFFcEUsTUFBTSxPQUFPLHNCQUF1QixTQUFRLHNCQUFzQjtJQUs5RCxZQUFZLEtBQW9CLEVBQUUsWUFBbUIsRUFBRSxLQUFZLEVBQUUsS0FBWTtRQUM3RSxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDYixJQUFJLENBQUMsWUFBWSxHQUFHLFlBQVksQ0FBQztRQUNqQyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN2QixDQUFDO0lBRUQsbUJBQW1CO1FBQ2YsT0FBTyxJQUFJLENBQUMsS0FBSzthQUNaLG1CQUFtQixFQUFFO2FBQ3JCLE1BQU0sQ0FDSCxDQUFDLEtBQUssRUFBRSxFQUFFLENBQ04sQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQ3pCLElBQUksQ0FBQyxLQUFLLEVBQ1YsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQ3JCLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUNyQixLQUFLLENBQUMsR0FBRyxFQUNULEtBQUssQ0FBQyxHQUFHLEVBQ1QsSUFBSSxDQUFDLEtBQUssQ0FDYixDQUNSLENBQUM7SUFDVixDQUFDO0lBRUQsZ0JBQWdCO1FBQ1osT0FBTyxJQUFJLENBQUMsS0FBSzthQUNaLGdCQUFnQixFQUFFO2FBQ2xCLE1BQU0sQ0FDSCxDQUFDLEtBQUssRUFBRSxFQUFFLENBQ04sQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQ3pCLElBQUksQ0FBQyxLQUFLLEVBQ1YsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQ3JCLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUNyQixLQUFLLENBQUMsR0FBRyxFQUNULEtBQUssQ0FBQyxHQUFHLEVBQ1QsSUFBSSxDQUFDLEtBQUssQ0FDYixDQUNSLENBQUM7SUFDVixDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb2FyZCB9IGZyb20gJy4uLy4uL21vZGVscy9ib2FyZCc7XHJcbmltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vbW9kZWxzL3BpZWNlcy9jb2xvcic7XHJcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi4vLi4vbW9kZWxzL3BpZWNlcy9wb2ludCc7XHJcbmltcG9ydCB7IE1vdmVVdGlscyB9IGZyb20gJy4uLy4uL3V0aWxzL21vdmUtdXRpbHMnO1xyXG5pbXBvcnQgeyBBYnN0cmFjdFBpZWNlIH0gZnJvbSAnLi9hYnN0cmFjdC1waWVjZSc7XHJcbmltcG9ydCB7IFBpZWNlQWJzdHJhY3REZWNvcmF0b3IgfSBmcm9tICcuL3BpZWNlLWFic3RyYWN0LWRlY29yYXRvcic7XHJcblxyXG5leHBvcnQgY2xhc3MgQXZhaWxhYmxlTW92ZURlY29yYXRvciBleHRlbmRzIFBpZWNlQWJzdHJhY3REZWNvcmF0b3Ige1xyXG4gICAgcHJpdmF0ZSBwb2ludENsaWNrZWQ6IFBvaW50O1xyXG4gICAgcHJpdmF0ZSBjb2xvcjogQ29sb3I7XHJcbiAgICBwcml2YXRlIGJvYXJkOiBCb2FyZDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwaWVjZTogQWJzdHJhY3RQaWVjZSwgcG9pbnRDbGlja2VkOiBQb2ludCwgY29sb3I6IENvbG9yLCBib2FyZDogQm9hcmQpIHtcclxuICAgICAgICBzdXBlcihwaWVjZSk7XHJcbiAgICAgICAgdGhpcy5wb2ludENsaWNrZWQgPSBwb2ludENsaWNrZWQ7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIHRoaXMuYm9hcmQgPSBib2FyZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRQb3NzaWJsZUNhcHR1cmVzKCk6IFBvaW50W10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBpZWNlXHJcbiAgICAgICAgICAgIC5nZXRQb3NzaWJsZUNhcHR1cmVzKClcclxuICAgICAgICAgICAgLmZpbHRlcihcclxuICAgICAgICAgICAgICAgIChwb2ludCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAhTW92ZVV0aWxzLndpbGxNb3ZlQ2F1c2VDaGVjayhcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2ludENsaWNrZWQucm93LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvaW50Q2xpY2tlZC5jb2wsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50LnJvdyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQuY29sLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBvc3NpYmxlTW92ZXMoKTogUG9pbnRbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGllY2VcclxuICAgICAgICAgICAgLmdldFBvc3NpYmxlTW92ZXMoKVxyXG4gICAgICAgICAgICAuZmlsdGVyKFxyXG4gICAgICAgICAgICAgICAgKHBvaW50KSA9PlxyXG4gICAgICAgICAgICAgICAgICAgICFNb3ZlVXRpbHMud2lsbE1vdmVDYXVzZUNoZWNrKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvaW50Q2xpY2tlZC5yb3csXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnRDbGlja2VkLmNvbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQucm93LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludC5jb2wsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIl19